var applyPatch = require('./patches/applyPatch');

var makeProjectPatch = require('./patches/makeProjectPatch');
var makeSolutionPatch = require('./patches/makeSolutionPatch');
var makeUsingPatch = require('./patches/makeUsingPatch');
var makePackagePatch = require('./patches/makePackagePatch');

module.exports = function registerNativeWindowsModule(name, windowsConfig, params, projectConfig) {
  applyPatch(projectConfig.projectPath, makeProjectPatch(windowsConfig), true);
  applyPatch(projectConfig.solutionPath, makeSolutionPatch(windowsConfig), true);

  applyPatch(projectConfig.mainPage, makePackagePatch(windowsConfig.packageInstance, params, name));

  applyPatch(projectConfig.mainPage, makeUsingPatch(windowsConfig.packageUsingPath));
};